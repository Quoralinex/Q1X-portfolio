@layer layout {
  .toggle {
    --size: var(--space2XL);

    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--size);
    height: var(--size);
    padding: 0;
    border-radius: 999px;
    border: 1px solid color-mix(in lab, var(--text) 20%, transparent);
    background: color-mix(in lab, var(--backgroundLight) 55%, transparent);
    color: var(--textBody);
    cursor: pointer;
    box-shadow: 0 8px 22px color-mix(in lab, var(--black) 10%, transparent);
    transition: transform var(--durationM) var(--bezierFastoutSlowin),
      color var(--durationM) var(--bezierFastoutSlowin),
      border-color var(--durationM) var(--bezierFastoutSlowin),
      background var(--durationM) var(--bezierFastoutSlowin);
  }

  .toggle[data-theme='dark'] {
    background: color-mix(in lab, var(--backgroundLight) 25%, transparent);
    border-color: color-mix(in lab, var(--accent) 50%, var(--text) 20%);
    color: color-mix(in lab, var(--text) 90%, transparent);
    box-shadow: 0 10px 26px color-mix(in lab, var(--accent) 12%, transparent);
  }

  .toggle[data-mobile='true'] {
    width: var(--space2XL);
    height: var(--space2XL);
    box-shadow: 0 6px 18px color-mix(in lab, var(--black) 8%, transparent);
  }

  .toggle:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 4px;
  }

  .toggle:active {
    transform: scale(0.96);
  }

  .svg {
    color: inherit;
  }

  .circle {
    fill: currentColor;
    transform: scale(0.7);
    transform-origin: center;

    @media (--mediaUseMotion) {
      transition-property: transform, fill;
      transition-duration: var(--durationL);
      transition-delay: 0s;
      transition-timing-function: var(--bezierFastoutSlowin);
    }

    &[data-mask='true'] {
      fill: white;
    }

    body[data-theme='dark'] & {
      transform: none;

      @media (--mediaUseMotion) {
        transition-delay: 0.3s;
      }
    }
  }

  .mask {
    fill: black;
    transform: translate3d(100%, -100%, 0);

    @media (--mediaUseMotion) {
      transition: transform var(--durationL) var(--bezierFastoutSlowin);
      transition-delay: 0s;
    }

    body[data-theme='dark'] & {
      transform: none;

      @media (--mediaUseMotion) {
        transition-delay: 0.3s;
      }
    }
  }

  .path {
    stroke: currentColor;
    fill: none;
    stroke-linecap: round;
    stroke-width: 3;
    stroke-dasharray: 7 7;
    stroke-dashoffset: 0;
    opacity: 1;

    @media (--mediaUseMotion) {
      transition-property: stroke-dashoffset, opacity;
      transition-duration: var(--durationL);
      transition-timing-function: var(--bezierFastoutSlowin);
      transition-delay: 0.3s;
    }

    body[data-theme='dark'] & {
      stroke-dashoffset: 7;
      opacity: 0;

      @media (--mediaUseMotion) {
        transition-delay: 0s;
      }
    }
  }
}
