@layer layout {
  .toggle {
    --offset: 6px;
    --inset: calc(var(--spaceOuter) - var(--offset));

    display: inline-flex;
    align-items: center;
    gap: var(--spaceS);
    position: fixed;
    z-index: var(--zIndex4);
    top: var(--inset);
    right: var(--inset);
    transform: translate3d(0, 0, 0);
    padding: var(--spaceS) var(--spaceM);
    border-radius: 999px;
    background: color-mix(in lab, var(--backgroundLight) 70%, transparent);
    border: 1px solid color-mix(in lab, var(--accent) 50%, var(--text) 30%);
    box-shadow: 0 12px 30px color-mix(in lab, var(--black) 18%, transparent);
    color: var(--textTitle);
    backdrop-filter: blur(12px) saturate(130%);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: var(--fontWeightMedium);
    font-size: calc((11 / 16) * 1rem);

    @media (--mediaUseMotion) {
      transition-property: transform, color, border, background, box-shadow;
      transition-duration: var(--durationL);
      transition-timing-function: var(--bezierFastoutSlowin);
    }

    @media (--mediaMobile), (--mediaMobileLS) {
      &:not([data-mobile='true']) {
        display: none;
      }
    }

    &[data-mobile='true'] {
      --offset: var(--spaceXS);
      --inset: calc(var(--spaceXL) - var(--offset));

      top: unset;
      bottom: var(--inset);
      margin-top: 0;
      margin-right: 0;
      box-shadow: 0 8px 22px color-mix(in lab, var(--black) 12%, transparent);
    }

    &[data-theme='dark'] {
      background: color-mix(in lab, var(--backgroundLight) 20%, transparent);
      border-color: color-mix(in lab, var(--accent) 70%, var(--text) 15%);
      color: color-mix(in lab, var(--text) 90%, transparent);
      box-shadow: 0 14px 36px color-mix(in lab, var(--accent) 14%, transparent);
    }
  }

  .label {
    white-space: nowrap;
  }

  .svg {
    color: inherit;
  }

  .circle {
    fill: currentColor;
    transform: scale(0.6);
    transform-origin: center;

    @media (--mediaUseMotion) {
      transition-property: transform, fill;
      transition-duration: var(--durationL);
      transition-delay: 0s;
      transition-timing-function: var(--bezierFastoutSlowin);
    }

    &[data-mask='true'] {
      fill: white;
    }

    body[data-theme='dark'] & {
      transform: none;

      @media (--mediaUseMotion) {
        transition-delay: 0.3s;
      }
    }
  }

  .mask {
    fill: black;
    transform: translate3d(100%, -100%, 0);

    @media (--mediaUseMotion) {
      transition: transform var(--durationL) var(--bezierFastoutSlowin);
      transition-delay: 0s;
    }

    body[data-theme='dark'] & {
      transform: none;

      @media (--mediaUseMotion) {
        transition-delay: 0.3s;
      }
    }
  }

  .path {
    stroke: currentColor;
    fill: none;
    stroke-linecap: round;
    stroke-width: 3;
    stroke-dasharray: 7 7;
    stroke-dashoffset: 0;
    opacity: 1;

    @media (--mediaUseMotion) {
      transition-property: stroke-dashoffset, opacity;
      transition-duration: var(--durationL);
      transition-timing-function: var(--bezierFastoutSlowin);
      transition-delay: 0.3s;
    }

    body[data-theme='dark'] & {
      stroke-dashoffset: 7;
      opacity: 0;

      @media (--mediaUseMotion) {
        transition-delay: 0s;
      }
    }
  }
}
